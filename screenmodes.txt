THIS ISN'T RIGHT YET!

MODE READ	   DATA-WRITE ATTR-WRITE
000 and        one        one       
001 zero       NOP        one       
002 and        one        one       
003 attr       NOP        one       
004 and        one        one       
005 attr       NOP        one       
006 or         one        one       
007 attr       NOP        one       
008 zero       one        NOP       
009 zero       NOP        NOP       
00a data       one        NOP       
00b zero       NOP        NOP       
00c data       one        NOP       
00d zero       NOP        NOP       
00e data       one        NOP       
00f zero       NOP        NOP       
100 and        zero       one       
101 zero       NOP        one       
102 and        zero       one       
103 attr       NOP        one       
104 and        zero       one       
105 attr       NOP        one       
106 or         zero       one       
107 attr       NOP        one       
108 zero       zero       NOP       
109 zero       NOP        NOP       
10a data       zero       NOP       
10b zero       NOP        NOP       
10c data       zero       NOP       
10d zero       NOP        NOP       
10e data       zero       NOP       
10f zero       NOP        NOP       
800 and        one        zero      
801 zero       NOP        zero      
802 and        one        zero      
803 attr       NOP        zero      
804 and        one        zero      
805 attr       NOP        zero      
806 or         one        zero      
807 attr       NOP        zero      
808 zero       one        NOP       
809 zero       NOP        NOP       
80a data       one        NOP       
80b zero       NOP        NOP       
80c data       one        NOP       
80d zero       NOP        NOP       
80e data       one        NOP       
80f zero       NOP        NOP       
900 and        zero       zero      
901 zero       NOP        zero      
902 and        zero       zero      
903 attr       NOP        zero      
904 and        zero       zero      
905 attr       NOP        zero      
906 or         zero       zero      
907 attr       NOP        zero      
908 zero       zero       NOP       
909 zero       NOP        NOP       
90a data       zero       NOP       
90b zero       NOP        NOP       
90c data       zero       NOP       
90d zero       NOP        NOP       
90e data       zero       NOP       
90f zero       NOP        NOP       


PATTERNS

low byte:
bit 0: if clear, write to data; if set, data writing not active
bit 3: if clear, write to attr; if set, attr writing not active

high byte:
bit 0: if clear, set data (if writing active by bit 0 low byte); 
	   if set, clear data (if active)
bit 1: ignored
bit 2: ignored	   
bit 3: if set, clear attr (if active by bit 3 of low byte); if clear, 
	   set attr (if active)

The reading state depends only on the low byte. 

When writing is active to exactly one bitplane (data or attr but not
both), you can read that plane as long as bits 1 and 2 are not both 
zero (if they are both zero, you read a zero no matter what). 

When writing is active to both bitplanes, you read the logical OR if 
bits 1 and 2 are 11; if the bits are 10 or 01, you read the logical
AND; if they are 00, you read zero.

When writing is active to neither bitplane, you read zero.

The above patterns are sufficient to determine all the modes. 

You can make any available function out of a bitwise combination of
these:

 NO_DATA_WRITE  = 0x001 // default: data write
 NO_ATTR_WRITE  = 0x008 // default: attr write
 CLEAR_DATA     = 0x100 // default: set data
 CLEAR_ATTR     = 0x800 // default: set attr
 READ_OR        = 0x006 // you can think of this as OR of all active planes
 READ_ONE_PLANE = 0x006 // and hence if only one plane is active, you read that
 READ_AND       = 0x002 
  